import{o as c,c as r,b as h,a as e,e as b,t as s,h as C,F as v,w as $,i as g,r as m,g as k,j as y,v as q}from"./index-CX2ymY1j.js";const V=["onClick"],I={class:"d-flex w-100 justify-content-between"},N={class:"mb-1"},D={class:"mb-1"},M={__name:"ItemMenu",props:["drinks"],emits:["addCart"],setup(u,{emit:i}){const o=i;return(a,_)=>(c(!0),r(v,null,h(u.drinks,t=>(c(),r("div",{class:"list-group",key:t.id},[e("a",{href:"#",class:"list-group-item list-group-item-action",onClick:C(l=>o("addCart",t.id),["prevent"])},[b(s(t.id)+" ",1),e("div",I,[e("h5",N,s(t.name),1),e("small",null,"$"+s(t.price),1)]),e("p",D,s(t.description),1)],8,V)]))),128))}},T={class:"table"},B=e("thead",null,[e("tr",null,[e("th",{scope:"col",width:"50"},"操作"),e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"描述"),e("th",{scope:"col",width:"90"},"數量"),e("th",{scope:"col"},"單價"),e("th",{scope:"col"},"小計")])],-1),j=["onClick"],E=["onUpdate:modelValue"],L=["value"],U={__name:"ItemCart",props:["cart"],emits:["removeCart"],setup(u,{emit:i}){const o=i;return(a,_)=>(c(),r("table",T,[B,e("tbody",null,[(c(!0),r(v,null,h(u.cart,t=>(c(),r("tr",{key:t.id},[e("td",null,[e("button",{type:"button",class:"btn btn-sm",onClick:l=>o("removeCart",t.id)},"x",8,j)]),e("td",null,s(t.name),1),e("td",null,[e("small",null,s(t.description),1)]),e("td",null,[$(e("select",{class:"form-select","onUpdate:modelValue":l=>t.quantity=l},[(c(),r(v,null,h(10,l=>e("option",{key:l,value:l},s(l),9,L)),64))],8,E),[[g,t.quantity]])]),e("td",null,s(t.price),1),e("td",null,s(t.price*t.quantity),1)]))),128))])]))}},F={class:"table"},O=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"品項"),e("th",{scope:"col"},"數量"),e("th",{scope:"col"},"小計")])],-1),Q={class:"text-end"},S={class:"text-end"},A={__name:"ItemOrder",props:["order"],setup(u){return(i,o)=>(c(),r(v,null,[e("table",F,[O,e("tbody",null,[(c(!0),r(v,null,h(u.order.cart,a=>(c(),r("tr",{key:a.id},[e("td",null,s(a.name),1),e("td",null,s(a.quantity),1),e("td",null,s(a.price*a.quantity),1)]))),128))])]),e("div",Q,[b("備註: "),e("span",null,s(u.order.orderNote),1)]),e("div",S,[e("h5",null,[b("總計: "),e("span",null,"$"+s(u.order.sum),1)])])],64))}},R={id:"root"},W={class:"container mt-5"},z={class:"row"},G={class:"col-md-4"},H={class:"col-md-8"},J={class:"text-end mb-3"},K={class:"text-end"},P=e("hr",null,null,-1),X={class:"row justify-content-center"},Y={class:"col-8"},Z={class:"card"},ee={class:"card-body"},te={class:"card-title"},se=e("h5",null,"訂單",-1),oe=e("div",{class:"toast-container position-fixed top-50 start-50 translate-middle"},[e("div",{id:"message",class:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},[e("div",{class:"toast-body",style:{"background-color":"#fa0","text-align":"center"}},[e("p",{class:"h5"}," 您已經將該品項加入購物車 ")])])],-1),le={__name:"Week3View2",setup(u){const i=m([{id:1,name:"珍珠奶茶",description:"香濃奶茶搭配QQ珍珠",price:50},{id:2,name:"冬瓜檸檬",description:"清新冬瓜配上新鮮檸檬",price:45},{id:3,name:"翡翠檸檬",description:"綠茶與檸檬的完美結合",price:55},{id:4,name:"四季春茶",description:"香醇四季春茶，回甘無比",price:45},{id:5,name:"阿薩姆奶茶",description:"阿薩姆紅茶搭配香醇鮮奶",price:50},{id:6,name:"檸檬冰茶",description:"檸檬與冰茶的清新組合",price:45},{id:7,name:"芒果綠茶",description:"芒果與綠茶的獨特風味",price:55},{id:8,name:"抹茶拿鐵",description:"抹茶與鮮奶的絕配",price:60}]),o=m([]),a=m({}),_=m(""),t=k(()=>o.value.reduce((p,n)=>p+n.price*parseInt(n.quantity),0)),l=m([]),f=p=>{const n=i.value.findIndex(d=>d.id===p);if(o.value.forEach(d=>{l.value.push(d.name)}),!l.value.includes(i.value[n].name))o.value.push({...i.value[n],id:new Date().getTime(),quantity:1});else{const d=document.getElementById("message");d.classList.add("show"),setTimeout(()=>{d.classList.remove("show")},700)}l.value=[]},x=p=>{o.value=o.value.filter(n=>n.id!==p)},w=()=>{a.value={cart:o.value,orderNote:_.value,id:new Date().getTime(),sum:t.value},o.value=[],_.value=""};return(p,n)=>(c(),r("div",R,[e("div",W,[e("div",z,[e("div",G,[y(M,{drinks:i.value,onAddCart:f},null,8,["drinks"])]),e("div",H,[y(U,{cart:o.value,onRemoveCart:x},null,8,["cart"]),e("div",J,[e("h5",null,[b("總計: "),e("span",null,"$"+s(t.value),1)])]),$(e("textarea",{class:"form-control mb-3",rows:"3",placeholder:"備註","onUpdate:modelValue":n[0]||(n[0]=d=>_.value=d)},null,512),[[q,_.value]]),e("div",K,[e("button",{class:"btn btn-primary",onClick:n[1]||(n[1]=d=>w())},"送出")])])]),P,e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[se,y(A,{order:a.value},null,8,["order"])])])])])]),oe])]))}};export{le as default};
